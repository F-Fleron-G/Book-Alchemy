{% extends "layout.html" %}
{% block title %}Update Book{% endblock %}

{% block content %}
<div class="update-wrapper">
  <div class="update-inner">
    <div class="update-header">
      <img src="{{ url_for('static', filename='images/add_book_img.png') }}" alt="Update Book Icon" class="update-icon">
      <h1 class="update-title">Update Book</h1>
    </div>

    {% if message %}
      <p class="success">{{ message }}</p>
    {% endif %}

    <form action="{{ url_for('update_book', book_id=book.id) }}" method="POST" class="form-fields">
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" value="{{ book.title }}" required>

      <label for="isbn">ISBN:</label>
      <input type="text" id="isbn" name="isbn" value="{{ book.isbn }}">

      <label for="publication_year">Publication Year:</label>
      <input type="number" id="publication_year" name="publication_year" value="{{ book.publication_year }}">

      <label for="rating">Rating:</label>
      <input type="number" id="rating" name="rating" min="0" max="5" step="0.1" value="{{ book.rating }}">

      <label for="author_id">Author:</label>

      <select id="author_id" name="author_id" required>
        {% for author in authors %}
          <option value="{{ author.id }}" {% if book.author_id == author.id %}selected{% endif %}>
            {{ author.name }}
          </option>
        {% endfor %}
      </select>

      <button type="submit" class="update-pg-btn">Update Book</button>
    </form>

    <a href="/" class="back-home-btn" aria-label="Back to Home">‚Üê</a>
  </div>
</div>
{% endblock %}
